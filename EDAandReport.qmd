---
title: "EDA and Report"
author: 
  - "Ean Anciso"
  - "Lance He"
  - "Regi Acierto"
format: pdf
date: "Dec. 4, 2025"
date-modified: now
format: 
  pdf:
    toc: false
    number-sections: true
    number-depth: 4
    fig-align: center
    cap-location: top
    geometry: 
      - top=1in
      - left=1in
      - right=1in
      - bottom=1in
    colorlinks: true
execute: 
  echo: false
  warning: false
---

```{r}
#| label: loadPackages

# Load Packages
library(rvest)
library(dplyr)
library(stringr)
library(ggplot2)

```

```{r}
#| label: tbl-countries
#| tbl-cap: "Countries Ranked by amount of Entries"

firstTable <- clean_data %>%
  group_by(Country) %>%
  summarise(
    entries = n(),
    total_pop = sum(UN_Estimate_Pop, na.rm = TRUE),
    total_city_pop = sum(City_Pop, na.rm = TRUE),
    total_urban_pop = sum(Urban_Pop, na.rm = TRUE)
  ) %>%
  arrange(desc(entries))

```

```{r}
#| label: fig-urban_plot
#| fig-cap: "Urban Population by Area"

# Plot 1: Urban Population by Area
# X = Urban Area, Y = Urban Population
urban_data <- clean_data %>%
  filter(Country %in% target_countries)

urban_data %>%
  ggplot(
    aes(
      x = Urban_Area_km2,
      y = Urban_Pop / 1000000,
      color = Country,
      group = Country
    )
  ) +
  geom_point(alpha = 0.5) +
  geom_line() +
  scale_x_log10() +
  labs(
    title = "Urban Population by Area",
    x = "Urban Area (km²)",
    y = "Urban Population (Millions)"
  )
```

```{r}
#| label: fig-city_proper_plot
#| fig-cap: "City Proper Population by Area"

# Plot 2: City Proper Population by Area
# X = City Area, Y = City Population
city_proper_data <- clean_data %>%
  filter(Country %in% target_countries)

city_proper_data %>%
  ggplot(
    aes(
      x = City_Area_km2,
      y = City_Pop / 1000000,
      color = Country,
      group = Country
    )
  ) +
  geom_point(alpha = 0.5) +
  geom_line() +
  scale_x_log10() +
  labs(
    title = "City Proper Population by Area",
    x = "City Proper Area (km²)",
    y = "City Proper Population (Millions)"
  )


```

{{< pagebreak >}}
# Code Appendix

```{r codeAppend, ref.label=knitr::all_labels(), echo=TRUE, eval=FALSE}

```